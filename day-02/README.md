## 变量提升

> 之前看了很多变量提升的问题,但没有一次系统地完整解决所有情况,这次尝试全部解决下

定义：变量提升是当栈内存作用域形成时,JS代码执行前,浏览器会对带有 let,function 关键字进行声明declare,默认值是undefined。这是一种在执行JS代码的预编译机制。但函数在变量提升阶段会赋值,带有function的已经声明和定义。这是因为函数在定义的时候已经命名,所以它被定义了。

> 变量提升只发生在当前作用域。而JS中只用两种作用域：全局作用域和函数作用域

#### 带var与不带var的区别

个人感觉在全局变量中带不带var,区别并不算很大.在私有作用域,即是函数作用域使用var声明,是定义了一个函数作用域上的一个属性,而不带var则是会通过作用域链进行查找。

#### 等号左边下的变量提升

带var 的机制会导致等号左边直接变量提升,不管是什么

#### if else 下的变量提升

var 定义的变量始终会提升,但赋值会在if,else里进行。同时在if()的表达式并不会进行变量提升。函数的赋值也只有在条件为true的时候进行赋值。条件没有提升,在执行语句里才会提升,这是为了配合ES6

#### 重名问题下的变量提升

函数的声明会覆盖掉普通变量的声明

#### 函数的形参的变量提升

函数的形参也会进行一个变量提升,同时它是在自己的作用域里的

匿名函数自执行函数享受有正常的变量提升,非匿名函数执行函数的函数名没法修改,且指向一定。

## 闭包

当函数返回封装函数,且这个封装函数使用了外层函数作用域的变量的时候,这些变量会绑定在这个封装函数上,实际上一个小小的背包。这个叫做闭包。因为我们直接使用函数的时候,他找不到那个变量实际上会undefined报错,这个闭包感觉是用来修复这个问题的。

